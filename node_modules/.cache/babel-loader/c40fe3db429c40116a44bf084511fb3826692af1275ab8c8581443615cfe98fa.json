{"ast":null,"code":"import _regeneratorRuntime from\"/home/aaruni/Desktop/grouple-assignment/weather-assignment/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/home/aaruni/Desktop/grouple-assignment/weather-assignment/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/home/aaruni/Desktop/grouple-assignment/weather-assignment/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/aaruni/Desktop/grouple-assignment/weather-assignment/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./App.css\";import UilReact from\"@iconscout/react-unicons/icons/uil-react\";import TopButtons from\"./components/TopButtons\";import Inputs from\"./components/Inputs\";import TimeLocation from\"./components/TimeLocation\";import TempAndDetails from\"./components/TempAndDetails\";import Forcast from\"./components/Forcast\";import getFormattedWeatherData,{flag}from\"./services/services\";import{useEffect,useState}from\"react\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import ErrorDisplay from\"./components/ErrorDisplay\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState({q:\"bengaluru\"}),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState(\"metric\"),_useState4=_slicedToArray(_useState3,2),units=_useState4[0],setUnits=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),weather=_useState6[0],setWeather=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),validity=_useState8[0],setValidity=_useState8[1];useEffect(function(){var _ref;var fetchedWeather=function fetchedWeather(){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var message;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:message=query.q?query.q:\"Current location.\";toast.info(\"Fetching weather for \"+message);_context.next=4;return getFormattedWeatherData(_objectSpread(_objectSpread({},query),{},{units:units})).then(function(data){setWeather(data);console.log(\"Recieved Data: \",data);setValidity(true);toast.success(\"Successfully fetched weather for \".concat(data.name,\", \").concat(data.country));}).catch(function(error){setValidity(false);toast.info(\"No data available\");});case 4:case\"end\":return _context.stop();}},_callee);}))).apply(this,arguments);};fetchedWeather();},[query,units]);return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-gray-600 to-gray-900\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto max-w-screen-md  py-5 px-16 md:px-32 min-h-screen h-fit bg-gradient-to-r from-cyan-500 to-blue-500\",children:[/*#__PURE__*/_jsx(TopButtons,{setQuery:setQuery}),/*#__PURE__*/_jsx(Inputs,{setQuery:setQuery,units:units,setUnits:setUnits}),weather&&validity&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(TimeLocation,{weather:weather}),/*#__PURE__*/_jsx(TempAndDetails,{weather:weather}),/*#__PURE__*/_jsx(Forcast,{weather:weather})]}),!validity&&/*#__PURE__*/_jsx(ErrorDisplay,{}),/*#__PURE__*/_jsx(ToastContainer,{autoClose:3000,theme:\"dark\",hideProgressBar:true,pauseOnHover:true,position:\"bottom-left\"})]})});}export default App;","map":{"version":3,"names":["UilReact","TopButtons","Inputs","TimeLocation","TempAndDetails","Forcast","getFormattedWeatherData","flag","useEffect","useState","ToastContainer","toast","ErrorDisplay","jsx","_jsx","jsxs","_jsxs","App","_useState","q","_useState2","_slicedToArray","query","setQuery","_useState3","_useState4","units","setUnits","_useState5","_useState6","weather","setWeather","_useState7","_useState8","validity","setValidity","_ref","fetchedWeather","_asyncToGenerator","_regeneratorRuntime","mark","_callee","message","wrap","_callee$","_context","prev","next","info","_objectSpread","then","data","console","log","success","concat","name","country","catch","error","stop","apply","arguments","className","children","autoClose","theme","hideProgressBar","pauseOnHover","position"],"sources":["/home/aaruni/Desktop/grouple-assignment/weather-assignment/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport UilReact from \"@iconscout/react-unicons/icons/uil-react\";\nimport TopButtons from \"./components/TopButtons\";\nimport Inputs from \"./components/Inputs\";\nimport TimeLocation from \"./components/TimeLocation\";\nimport TempAndDetails from \"./components/TempAndDetails\";\nimport Forcast from \"./components/Forcast\";\nimport getFormattedWeatherData, { flag } from \"./services/services\";\nimport { useEffect, useState } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport ErrorDisplay from \"./components/ErrorDisplay\";\n\nfunction App() {\n  const [query, setQuery] = useState({ q: \"bengaluru\" });\n  const [units, setUnits] = useState(\"metric\");\n  const [weather, setWeather] = useState(null);\n  const [validity, setValidity] = useState(true);\n\n  useEffect(() => {\n    const fetchedWeather = async () => {\n      const message = query.q ? query.q : \"Current location.\";\n\n      toast.info(\"Fetching weather for \" + message);\n\n      await getFormattedWeatherData({ ...query, units })\n        .then((data) => {\n          setWeather(data);\n          console.log(\"Recieved Data: \", data);\n          setValidity(true);\n\n          toast.success(\n            `Successfully fetched weather for ${data.name}, ${data.country}`\n          );\n        })\n        .catch((error) => {\n          setValidity(false);\n          toast.info(\"No data available\");\n        });\n    };\n\n    fetchedWeather();\n  }, [query, units]);\n\n  return (\n    <div className=\"bg-gradient-to-r from-gray-600 to-gray-900\">\n      <div\n        className=\"mx-auto max-w-screen-md \n      py-5 px-16 md:px-32 min-h-screen h-fit\n      bg-gradient-to-r from-cyan-500 to-blue-500\"\n      >\n        <TopButtons setQuery={setQuery} />\n        <Inputs setQuery={setQuery} units={units} setUnits={setUnits} />\n        {weather && validity && (\n          <div>\n            <TimeLocation weather={weather} />\n            <TempAndDetails weather={weather} />\n            <Forcast weather={weather} />\n          </div>\n        )}\n        {!validity && <ErrorDisplay />}\n        <ToastContainer\n          autoClose={3000}\n          theme=\"dark\"\n          hideProgressBar\n          pauseOnHover\n          position=\"bottom-left\"\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}